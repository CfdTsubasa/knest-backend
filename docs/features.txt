# Knest アプリケーション機能概要

## 1. サークル機能

### 基本機能
- サークルの作成と管理
  - サークル名、説明文の設定
  - アイコンと表紙画像のアップロード
  - カテゴリーとタグの設定
  - サークル規約の設定

### メンバー管理
- メンバー数の制限（最大10名）
- ユーザーごとの参加制限
  - 一般ユーザー：2サークルまで
  - プレミアムユーザー：4サークルまで
- 参加・退会機能

### 検索・フィルタリング
- カテゴリーによる絞り込み
- メンバー数による絞り込み
- キーワード検索
- ソート機能
  - 作成日時
  - メンバー数
  - 投稿数
  - 最終アクティビティ

## 2. チャット機能

### リアルタイムメッセージング
- WebSocketを使用したリアルタイム通信
- テキストメッセージの送受信
- メッセージの返信機能
- システムメッセージのサポート

### ステータス管理
- オンライン/オフライン状態の表示
- タイピング状態の通知
- メッセージの既読管理

### メッセージ履歴
- ページネーション対応（50件ずつ取得）
- 未読メッセージ数の表示
- メッセージの編集状態の表示

## 3. パフォーマンス最適化

### キャッシュ
- Redisを使用したキャッシュ層
  - チャットメッセージ（5分）
  - 未読カウント（1分）

### データベース
- 適切なインデックス設定
- ページネーションの実装
- クエリの最適化

## 4. セキュリティ

### 認証
- JWTベースの認証
- トークンベースのAPI認証
- WebSocket接続の認証

### アクセス制御
- サークルメンバーのみがチャットにアクセス可能
- 適切なCORS設定
- セキュアなWebSocket通信

## 5. 今後の実装予定機能

### メディア機能
- 画像、動画のアップロード
- ファイル共有
- メディアプレビュー

### 通知システム
- プッシュ通知
- メール通知
- アプリ内通知

### メッセージ機能の拡張
- メンション機能
- 絵文字リアクション
- メッセージの検索
- メッセージのピン留め

### 高度な検索機能
- 全文検索
- フィルター機能の拡張
- ソート機能の拡張

## 6. 技術スタック

### バックエンド
- Django REST Framework
- Django Channels (WebSocket)
- Redis (キャッシュ、WebSocket)
- SQLite (開発環境)

### API
- RESTful API
- WebSocket API
- JWT認証

### クライアント
- SwiftUI対応
- 非同期通信
- WebSocket通信
- ローカル開発環境サポート 